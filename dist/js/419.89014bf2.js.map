{"version":3,"file":"js/419.89014bf2.js","mappings":"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","sources":["webpack://edmsvue/./src/views/BookmarksView.vue","webpack://edmsvue/./src/views/BookmarksView.vue?d793"],"sourcesContent":["<!-- eslint-disable vue/no-unused-components -->\n<template>\n\t<!-- ... -->\n\t<div class=\"content\" :style=\"{ width: openProperties ? '65vw' : auto }\">\n\t\t<div class=\"container-fluid\">\n\t\t\t<div class=\"content y\">\n\t\t\t\t<div class=\"container-fluid px-5 py-2 bg-light rounded\">\n\t\t\t\t\t<span v-for=\"path in current_folder_path\" :key=\"path\"> > {{ path }}</span>\n\t\t\t\t</div>\n\t\t\t\t<TopNav @show-list-view=\"showListView\" @show-grid-view=\"showGridView\" @show-properties=\"showProperties\"\n\t\t\t\t\t@show-report=\"showReport\" :folders=\"folders\" @get-folder=\"refreshData\" />\n\n\t\t\t\t<ListView :documents=\"documents\" :pagination=\"pagination\" :folders=\"folders\" v-if=\"listview\"\n\t\t\t\t\t@update-select-document=\"updateSelectDocument\" @update-current_folder=\"updateCurrentFolder\"\n\t\t\t\t\t@open-folder=\"$emit('open-folder', item)\" @show-viewer=\"renderPdfViewer\" @get-folder=\"refreshData\"/>\n\n\t\t\t\t<GridView :documents=\"documents\" :pagination=\"pagination\" :folders=\"folders\" v-if=\"gridview\"\n\t\t\t\t\t@open-folder=\"$emit('open-folder', item)\" @show-viewer=\"renderPdfViewer\"\n\t\t\t\t\t@update-current_folder=\"updateCurrentFolder\" @update-select-document=\"updateSelectDocument\" @get-folder=\"refreshData\"/>\n\n\t\t\t\t<DocumentViewer v-if=\"showViewer\" :actual_file=\"actual_file\" />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<PropertiesSideBar v-if=\"openProperties\" :style=\"{ width: openProperties ? '25vw' : '0vw' }\" @hide-sidebar=\"hideSidebar\"\n\t\t:document=\"document\" :current_folder=\"current_folder\" @get-folder=\"refreshData\"/>\n</template>\n  \n\n  \n<script>\nimport ListView from \"@/components/ListViewCombined.vue\";\nimport GridView from \"@/components/GridViewCombined.vue\";\nimport TopNav from \"@/components/TopNav.vue\"\nimport PropertiesSideBar from \"@/components/PropertiesSideBar.vue\";\nimport DocumentViewer from '@/components/DocumentViewer.vue';\n\nimport { useToast } from \"vue-toastification\";\nimport { reactive } from 'vue';\n\nexport default {\n\tcomponents: {\n\t\tListView,\n\t\tGridView,\n\t\tTopNav,\n\t\tPropertiesSideBar,\n\t\tDocumentViewer\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttoast: useToast(),\n\t\t\tbaseUrl: this.baseApiUrl,\n\t\t\ttoken: localStorage.getItem(\"edms_token\"),\n\t\t\tbookmark_folders: JSON.parse(localStorage.getItem(\"bookmark_folders\")) || [],\n\t\t\tbookmark_documents: JSON.parse(localStorage.getItem(\"bookmark_documents\")) || [],\n\t\t\ttarget_folder: reactive(0),\n\t\t\tlistview: true,\n\t\t\tgridview: false,\n\t\t\topenProperties: false,\n\t\t\tdocuments: [],\n\t\t\tfolders: [],\n\t\t\tdocument: {},\n\t\t\tactual_file: '',\n\t\t\tshowViewer: false,\n\t\t\tpagination: {\n\t\t\t\tlinks: '',\n\t\t\t\tmeta: ''\n\t\t\t}\n\t\t};\n\t},\n\tcomputed: {\n\t\tcurrent_folder() {\n\t\t\tlet current_folder = {};\n\t\t\tif (this.target_folder > 0) {\n\t\t\t\tcurrent_folder = this.folders.find(folder => folder.id == this.target_folder) ? this.folders.find(folder => folder.id == this.target_folder) :\n\t\t\t\t\t{};\n\t\t\t}\n\t\t\treturn current_folder;\n\t\t},\n\t\tcurrent_folder_path() {\n\t\t\treturn this.current_folder.path ? this.current_folder.path.split('/') : {};\n\t\t}\n\t},\n\t// mounted() {\n\t// \tthis.bookmark_folders.forEach(folder => {\n\t// \t\tthis.getFolders(folder);\n\t// \t});\n\t// \tthis.bookmark_documents.forEach(document => {\n\t// \t\tthis.getDocuments(document);\n\t// \t});\n\t// },\n\twatch: {\n\t\t'bookmark_folders': {\n\t\t\timmediate: true, // Execute the handler immediately after component is created\n\t\t\thandler(folders) {\n\t\t\t\tthis.$progress.start();\n\t\t\t\tfolders.forEach(folder => {\n\t\t\t\t\tthis.getFolders(folder);\n\t\t\t\t});\n\t\t\t\tthis.$progress.finish();\n\t\t\t},\n\t\t},\n\t\t'bookmark_documents': {\n\t\t\timmediate: true, // Execute the handler immediately after component is created\n\t\t\thandler(documents) {\n\t\t\t\tthis.$progress.start();\n\t\t\t\tdocuments.forEach(document => {\n\t\t\t\t\tthis.getDocuments(document);\n\t\t\t\t});\n\t\t\t\tthis.$progress.finish();\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\tshowGridView() {\n\t\t\tthis.listview = false;\n\t\t\tthis.gridview = true;\n\t\t\tthis.openReport = false;\n\t\t\tthis.showViewer = false;\n\t\t},\n\t\tshowListView() {\n\t\t\tthis.listview = true;\n\t\t\tthis.gridview = false;\n\t\t\tthis.openReport = false;\n\t\t\tthis.showViewer = false;\n\t\t},\n\t\tshowProperties() {\n\t\t\tthis.openProperties = true;\n\t\t},\n\t\thideSidebar() {\n\t\t\tthis.openProperties = false;\n\t\t},\n\t\tasync getFolders(target_folder) {\n\t\t\tthis.$progress.start();\n\n\t\t\tconst response = await fetch(this.baseUrl + '/api/folder/show/' + target_folder, {\n\t\t\t\tmethod: 'GET',\n\t\t\t\theaders: {\n\t\t\t\t\t'Authorization': `Bearer ${this.token}`,\n\t\t\t\t\t'Content-type': 'application/json'\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst data = await response.json();\n\t\t\tif (data.success == false) {\n\t\t\t\t// Use it!\n\t\t\t\tthis.toast.error(data.message, {\n\t\t\t\t\ttimeout: 2000\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.toast.success(data.message, {\n\t\t\t\t\ttimeout: 2000\n\t\t\t\t});\n\t\t\t\tthis.folders.push(data.data.data);\n\t\t\t}\n\t\t\tthis.$progress.finish();\n\n\t\t},\n\t\tasync getDocuments(target_document) {\n\t\t\tthis.$progress.start();\n\t\t\tconst response = await fetch(this.baseUrl + '/api/folder/document/show/' + target_document, {\n\t\t\t\tmethod: 'GET',\n\t\t\t\theaders: {\n\t\t\t\t\t'Authorization': `Bearer ${this.token}`,\n\t\t\t\t\t'Content-type': 'application/json'\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst data = await response.json();\n\t\t\t// console.log(data);\n\t\t\tif (data.success == false) {\n\t\t\t\t// Use it!\n\t\t\t\tthis.toast.error(data.message, {\n\t\t\t\t\ttimeout: 2000\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Use it!\n\t\t\t\tthis.toast.success(data.message, {\n\t\t\t\t\ttimeout: 2000\n\t\t\t\t});\n\t\t\t\tthis.documents.push(data.data.data);\n\t\t\t\tthis.pagination.links = data.data.links;\n\t\t\t\tthis.pagination.meta = data.data.meta;\n\t\t\t}\n\t\t\tthis.$progress.finish();\n\t\t},\n\t\tupdateSelectDocument(document) {\n\t\t\tthis.document = document;\n\t\t\tthis.updateCurrentFolder(document.folder);\n\t\t},\n\t\tupdateCurrentFolder(folder) {\n\t\t\tthis.target_folder = folder.id;\n\t\t},\n\t\trenderPdfViewer(actual_file, showViewer) {\n\t\t\tthis.actual_file = actual_file;\n\t\t\tthis.showViewer = showViewer;\n\t\t\tthis.listview = false;\n\t\t\tthis.gridview = false;\n\t\t\tthis.openReport = false;\n\t\t},\n\t\trefreshData() {\n\t\t\tthis.folders = [];\n\t\t\tthis.documents = [];\n\t\t\tthis.recent_folders.forEach(folder => {\n\t\t\t\tthis.getFolders(folder);\n\t\t\t});\n\t\t\tthis.recent_documents.forEach(document => {\n\t\t\t\tthis.getDocuments(document);\n\t\t\t});\n\t\t},\n\t},\n};\n</script>\n  \n<style scoped></style>\n  ","import { render } from \"./BookmarksView.vue?vue&type=template&id=04f73cac\"\nimport script from \"./BookmarksView.vue?vue&type=script&lang=js\"\nexport * from \"./BookmarksView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_Fragment","_createElementVNode","style","_normalizeStyle","width","$data","openProperties","_ctx","auto","_hoisted_1","_hoisted_2","_hoisted_3","_renderList","$options","current_folder_path","path","key","_toDisplayString","_createVNode","_component_TopNav","onShowListView","showListView","onShowGridView","showGridView","onShowProperties","showProperties","onShowReport","showReport","folders","onGetFolder","refreshData","listview","_createBlock","_component_ListView","documents","pagination","onUpdateSelectDocument","updateSelectDocument","onUpdateCurrent_folder","updateCurrentFolder","onOpenFolder","_cache","$event","$emit","item","onShowViewer","renderPdfViewer","_createCommentVNode","gridview","_component_GridView","showViewer","_component_DocumentViewer","actual_file","_component_PropertiesSideBar","onHideSidebar","hideSidebar","document","current_folder","components","ListView","GridView","TopNav","PropertiesSideBar","DocumentViewer","data","toast","useToast","baseUrl","this","baseApiUrl","token","localStorage","getItem","bookmark_folders","JSON","parse","bookmark_documents","target_folder","reactive","links","meta","computed","find","folder","id","split","watch","immediate","handler","$progress","start","forEach","getFolders","finish","getDocuments","methods","openReport","response","fetch","method","headers","json","success","error","message","timeout","push","target_document","recent_folders","recent_documents","__exports__","render"],"sourceRoot":""}